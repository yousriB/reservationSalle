<nav class="bg-white shadow-md p-4 relative z-50">
  <div class="container mx-auto flex justify-between items-center">
    <!-- Logo -->
    <a routerLink="/" class="text-2xl font-bold text-blue-600">Ellayali Events</a>

    <!-- Hamburger Menu Button (Mobile) -->
    <button class="lg:hidden text-gray-700 focus:outline-none" (click)="toggleMenu()">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
      </svg>
    </button>

    <!-- Navigation Links (Desktop & Mobile) -->
    <ul [ngClass]="{'hidden': !menuOpen, 'block': menuOpen}" 
        class="lg:flex lg:space-x-6 items-center absolute lg:static top-16 left-0 w-full lg:w-auto bg-white shadow-md lg:shadow-none p-4 lg:p-0">
      
      <!-- Common Links for All Users -->
      <li><a routerLink="/" class="block py-2 px-4 hover:text-blue-500">Home</a></li>
      <li><a routerLink="/about" *ngIf="getRole() !== 'admin'" class="block py-2 px-4 hover:text-blue-500">About</a></li>
      <li><a routerLink="/services" *ngIf="getRole() !== 'admin'" class="block py-2 px-4 hover:text-blue-500">Services</a></li>
      <li><a routerLink="/contact" *ngIf="getRole() !== 'admin'" class="block py-2 px-4 hover:text-blue-500">Contact</a></li>

      <!-- Show only when user is logged in -->
      <ng-container *ngIf="isAuthenticated(); else guestLinks">
        <!-- Admin Links -->
        <ng-container *ngIf="getRole() === 'admin'">
          <li><a routerLink="/formulaire-mangment" class="block py-2 px-4 hover:text-blue-500">Formulaire</a></li>
          <li><a routerLink="/users-management" class="block py-2 px-4 hover:text-blue-500">Users</a></li>
          <li><a routerLink="/reservation-management" class="block py-2 px-4 hover:text-blue-500">Reservations</a></li>
          <li><a routerLink="/admin-dashboard" class="block py-2 px-4 hover:text-blue-500">Dashboard</a></li>
        </ng-container>

        <!-- User Links -->
        <ng-container *ngIf="getRole() === 'user'">
          <li><a routerLink="/user-reservations" class="block py-2 px-4 hover:text-blue-500">My reservations</a></li>
        </ng-container>

        <!-- Logout Button -->
        <li>
          <button (click)="logout()" class="w-full bg-red-500 text-white px-4 py-2 rounded block text-center">
            Logout
          </button>
        </li>
      </ng-container>

      <!-- Show only when user is NOT logged in -->
      <ng-template #guestLinks>
        <li>
          <a routerLink="/login" class="block sm:mb-0 mb-1 py-2 px-4 bg-blue-500 text-white rounded text-center">Login</a>
        </li>
        <li>
          <a routerLink="/register" class="block py-2 px-4 bg-green-500 text-white rounded text-center">Register</a>
        </li>
      </ng-template>
    </ul>
  </div>
</nav>