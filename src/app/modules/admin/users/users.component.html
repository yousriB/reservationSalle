<section class="bg-white text-gray-900 ">
    <div class="max-w-screen-2xl p-5 mx-auto">
      
      <!-- Page Header -->
      <div class="flex justify-between items-center mb-8">
        <h2 class="text-3xl font-bold">Manage Users</h2>
        <input type="text" [(ngModel)]="searchQuery" placeholder="Search users..." 
               class="border border-gray-300 rounded px-4 py-2 focus:ring-blue-500 focus:border-blue-500">
      </div>
  
      <!-- Filter by Role -->
      <div class="mb-4">
        <label class="mr-3 font-semibold">Filter by Role:</label>
        <select [(ngModel)]="selectedRole" class="border border-gray-300 rounded px-4 py-2">
          <option value="">All</option>
          <option value="Admin">Admin</option>
          <option value="User">User</option>
        </select>
      </div>
  
      <!-- Users Table -->
      <div class="bg-white  rounded">
        <table class="min-w-full bg-gray-100 rounded-lg overflow-hidden">
          <thead>
            <tr class="bg-gray-200">
              <th class="p-3 text-left">Name</th>
              <th class="p-3 text-left">Email</th>
              <th class="p-3 text-left">Role</th>
              <th class="p-3 text-left">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of paginatedUsers()" class="border-b">
              <td class="p-3">{{ user.name }}</td>
              <td class="p-3">{{ user.email }}</td>
              <td class="p-3">
                <span class="px-2 py-1 rounded-lg text-white"
                      [ngClass]="{
                        'bg-blue-500': user.role === 'Admin',
                        'bg-gray-500': user.role === 'User'
                      }">
                  {{ user.role }}
                </span>
              </td>
              <td class="p-2 grid gap-1">
                <button (click)="editUser(user)" class="bg-blue-500 text-white px-3 py-1 rounded ">Edit</button>
                <button (click)="confirmDelete(user)" class="bg-red-500 text-white px-3 py-1 rounded">Delete</button>
              </td>
            </tr>
          </tbody>
        </table>
  
        <!-- Pagination -->
        <div class="flex justify-between items-center mt-4">
          <button (click)="prevPage()" [disabled]="currentPage === 1"
                  class="bg-gray-500 text-white px-4 py-2 rounded disabled:opacity-50">Previous</button>
          <span>Page {{ currentPage }} of {{ totalPages() }}</span>
          <button (click)="nextPage()" [disabled]="currentPage === totalPages()"
                  class="bg-gray-500 text-white px-4 py-2 rounded disabled:opacity-50">Next</button>
        </div>
      </div>
  
      <!-- Edit User Modal -->
      <div *ngIf="showEditModal" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center">
        <div class="bg-white p-6 rounded-lg shadow-md text-center">
          <h3 class="text-xl font-semibold">Edit User</h3>
          <input type="text" [(ngModel)]="selectedUser.name" class="border w-full mt-2 p-2 rounded">
          <input type="email" [(ngModel)]="selectedUser.email" class="border w-full mt-2 p-2 rounded">
          <input type="password" [(ngModel)]="selectedUser.password" placeholder="New Password (Optional)" 
                 class="border w-full mt-2 p-2 rounded">
          <select [(ngModel)]="selectedUser.role" class="border w-full mt-2 p-2 rounded">
            <option value="Admin">Admin</option>
            <option value="User">User</option>
          </select>
          <div class="mt-4 flex justify-center space-x-4">
            <button (click)="updateUser()" class="bg-green-500 text-white px-4 py-2 rounded">Save</button>
            <button (click)="closeEditModal()" class="bg-gray-500 text-white px-4 py-2 rounded">Cancel</button>
          </div>
        </div>
      </div>
  
      <!-- Confirm Delete Modal -->
      <div *ngIf="showDeleteModal" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center">
        <div class="bg-white p-6 rounded-lg shadow-md text-center">
          <h3 class="text-xl font-semibold">Are you sure?</h3>
          <p class="text-gray-600 mt-2">You are about to delete <strong>{{ selectedUser?.name }}</strong>.</p>
          <div class="mt-4 flex justify-center space-x-4">
            <button (click)="deleteUser()" class="bg-red-500 text-white px-4 py-2 rounded">Yes, Delete</button>
            <button (click)="closeDeleteModal()" class="bg-gray-500 text-white px-4 py-2 rounded">Cancel</button>
          </div>
        </div>
      </div>
  
    </div>
  </section>
  